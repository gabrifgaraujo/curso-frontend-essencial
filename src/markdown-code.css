/* src/markdown-code.css - Estilo "Night Owl" (v1.1 - Seletores Corrigidos) */

/* --- Container Geral --- */
.markdown-content {
  max-width: 100%;
  overflow-x: hidden;
}

/* --- Bloco de Código Principal (<pre>) --- */
/* CORREÇÃO: O seletor agora é 'pre', a tag HTML para blocos de código. */
.markdown-content pre {
  background-color: #011627;
  color: #d6deeb;
  border: 1px solid #1d3b53;
  border-radius: 8px;
  box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
  margin: 1.5rem 0; /* Espaçamento controlado aqui */
  position: relative;
  font-family: "Fira Code", "JetBrains Mono", monospace;
  font-size: 0.9rem;
  line-height: 1.7;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* --- "Barra de Título" Falsa com Botões --- */
/* CORREÇÃO: O seletor agora é 'pre::before'. */
.markdown-content pre::before {
  content: ' ';
  display: block;
  height: 2.5rem;
  background-color: #0b253a;
  border-bottom: 1px solid #1d3b53;
  border-radius: 8px 8px 0 0;
  background-image: 
    radial-gradient(circle at 16px 18px, #ff5f56 5px, transparent 5px),
    radial-gradient(circle at 36px 18px, #ffbd2e 5px, transparent 5px),
    radial-gradient(circle at 56px 18px, #27c93f 5px, transparent 5px);
  background-repeat: no-repeat;
}

/* --- Container do Código (<code> dentro de <pre>) --- */
/* CORREÇÃO: O seletor agora é 'pre > code'. */
.markdown-content pre > code {
  display: block;
  padding: 0 1.5rem 1.25rem 1.5rem;
  white-space: pre;
  min-width: 100%;
  width: max-content;
  tab-size: 2;
  /* CORREÇÃO: Garante que o fundo do <code> seja transparente para mostrar o fundo do <pre>. */
  background-color: transparent; 
}

/* --- Estilização da Scrollbar --- */
.markdown-content pre::-webkit-scrollbar {
  height: 10px;
  background-color: #011627;
}
.markdown-content pre::-webkit-scrollbar-thumb {
  background-color: #1d3b53;
  border-radius: 5px;
  border: 2px solid #011627;
}

/* --- Código Inline (<code> que NÃO está dentro de <pre>) --- */
/* CORREÇÃO: Este seletor complexo garante que estamos estilizando apenas o código inline. */
.markdown-content :not(pre) > code {
  background: rgba(29, 59, 83, 0.5);
  color: #82aaff;
  border-radius: 5px;
  padding: 0.2em 0.45em;
  font-size: 0.88em;
  font-family: "Fira Code", "JetBrains Mono", monospace;
  white-space: normal;
  word-break: break-word;
}

/* --- Ajustes para o Highlight.js --- */
/* Esta regra continua válida e importante */
.markdown-content .hljs {
  background: transparent;
  color: inherit;
}

/* --- Responsividade --- */
@media (max-width: 640px) {
  .markdown-content pre {
    font-size: 0.85rem;
    margin: 1.5rem 0;
  }
  .markdown-content pre > code {
    padding: 0 1rem 1rem 1rem;
  }
}
