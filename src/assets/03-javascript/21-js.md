# Módulo 3, Aula 21: Hoisting (Içamento)

**Hoisting** é um comportamento do JavaScript onde declarações de variáveis e funções são "movidas" para o topo de seu escopo (global ou de função) antes da execução do código.

É importante entender que apenas a **declaração** é içada, não a **inicialização** (atribuição de valor).

## Hoisting de Variáveis com `var`

Declarações com `var` são completamente içadas, mas suas atribuições não. Isso significa que a variável existe desde o início do escopo, mas seu valor é `undefined` até a linha onde o valor é atribuído.

```javascript
console.log(meuNome); // Saída: undefined

var meuNome = "Gabriel";

console.log(meuNome); // Saída: "Gabriel"

// O que o interpretador JavaScript "vê":
// var meuNome;
// console.log(meuNome);
// meuNome = "Gabriel";
// console.log(meuNome);
```
Este comportamento pode levar a bugs inesperados e é um dos principais motivos para evitar o uso de `var`.

## `let` e `const` e a "Temporal Dead Zone" (TDZ)

Variáveis declaradas com `let` e `const` também são içadas, mas elas não são inicializadas com `undefined`. Em vez disso, elas entram em um estado chamado **Temporal Dead Zone (TDZ)**.

A TDZ começa no início do escopo e termina na linha onde a variável é declarada. Tentar acessar a variável dentro da TDZ resulta em um `ReferenceError`.

```javascript
// console.log(idade); // ReferenceError: Cannot access 'idade' before initialization

let idade = 30; // Fim da TDZ para 'idade'

console.log(idade); // Saída: 30
```
Esse comportamento é muito mais seguro, pois previne o uso de variáveis antes de sua declaração explícita, tornando o código mais previsível.

## Hoisting de Funções

A forma como as funções são içadas depende de como elas são declaradas.

### Function Declaration (Declaração de Função)
Declarações de função são **completamente içadas**, incluindo seu corpo. Isso significa que você pode chamar a função antes mesmo de ela ser declarada no código.

```javascript
saudar(); // Saída: "Olá, mundo!"

function saudar() {
  console.log("Olá, mundo!");
}
```

### Function Expression (Expressão de Função)
Expressões de função (quando uma função é atribuída a uma variável) seguem as regras de hoisting da variável (`var`, `let` ou `const`).

```javascript
// Se usar var, o resultado é um TypeError, pois 'dizerTchau' é undefined.
// dizerTchau(); // TypeError: dizerTchau is not a function

// Se usar let ou const, o resultado é um ReferenceError (TDZ).
// dizerTchau(); // ReferenceError: Cannot access 'dizerTchau' before initialization

const dizerTchau = function() {
  console.log("Tchau!");
};

dizerTchau(); // Saída: "Tchau!"
```

**Boas Práticas:**
1.  Declare suas variáveis (`let`, `const`) e funções no topo de seus escopos.
2.  Prefira `let` e `const` em vez de `var` para evitar os efeitos confusos do hoisting.
3.  Entenda o hoisting para depurar código legado, mas escreva seu novo código de forma que não dependa dele.

