# Módulo 3, Aula 19: Métodos de Array: map, filter, reduce

`map`, `filter` e `reduce` são os métodos de iteração mais importantes e poderosos para trabalhar com arrays em JavaScript. Eles permitem a programação funcional e imutável, pois todos retornam um **novo array** (ou valor, no caso do `reduce`) sem modificar o original.

## `map()`
O método `map()` cria um **novo array** com os resultados da chamada de uma função para cada elemento do array original. Ele transforma cada elemento em algo novo.

**Objetivo:** Transformar cada item de um array.

```javascript
const numeros = [1, 2, 3, 4, 5];

// Cria um novo array com o dobro de cada número
const dobrados = numeros.map(num => num * 2);

console.log(dobrados); // Saída: [2, 4, 6, 8, 10]
console.log(numeros);  // Saída: [1, 2, 3, 4, 5] (o original não foi modificado)

const usuarios = [
  { nome: "Ana", idade: 25 },
  { nome: "Bruno", idade: 30 }
];

// Cria um novo array contendo apenas os nomes
const nomes = usuarios.map(user => user.nome);
console.log(nomes); // Saída: ["Ana", "Bruno"]
```

## `filter()`
O método `filter()` cria um **novo array** com todos os elementos que passaram no teste implementado pela função fornecida.

**Objetivo:** Selecionar um subconjunto de itens de um array.

```javascript
const idades = [15, 22, 18, 35, 12];

// Cria um novo array apenas com as idades de maiores de idade
const maioresDeIdade = idades.filter(idade => idade >= 18);

console.log(maioresDeIdade); // Saída: [22, 18, 35]

const produtos = [
  { nome: "Notebook", categoria: "Eletrônicos" },
  { nome: "Camiseta", categoria: "Vestuário" },
  { nome: "Mouse", categoria: "Eletrônicos" }
];

// Filtra apenas os produtos da categoria "Eletrônicos"
const eletronicos = produtos.filter(p => p.categoria === "Eletrônicos");
console.log(eletronicos);
```

## `reduce()`
O método `reduce()` executa uma função "redutora" para cada elemento do array, resultando em um **único valor de retorno**.

**Objetivo:** "Reduzir" um array a um único valor (um número, uma string, um objeto, etc.).

A função redutora recebe dois argumentos principais:
1.  `acumulador`: O valor acumulado retornado na iteração anterior.
2.  `valorAtual`: O elemento atual que está sendo processado.

```javascript
const valores = [10, 20, 30, 40];

// Soma todos os valores do array. O '0' é o valor inicial do acumulador.
const somaTotal = valores.reduce((acumulador, valorAtual) => {
  return acumulador + valorAtual;
}, 0);

console.log(somaTotal); // Saída: 100

// Exemplo mais complexo: agrupar pessoas por idade
const pessoas = [
  { nome: "Leo", idade: 25 },
  { nome: "Bia", idade: 30 },
  { nome: "Gil", idade: 25 }
];

const pessoasPorIdade = pessoas.reduce((acc, pessoa) => {
  const idade = pessoa.idade;
  if (!acc[idade]) {
    acc[idade] = [];
  }
  acc[idade].push(pessoa);
  return acc;
}, {}); // O valor inicial é um objeto vazio

console.log(pessoasPorIdade);
// Saída: { '25': [ { nome: 'Leo', idade: 25 }, { nome: 'Gil', idade: 25 } ], '30': [ { nome: 'Bia', idade: 30 } ] }
```

