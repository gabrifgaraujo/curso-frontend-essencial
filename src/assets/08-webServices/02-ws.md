# Aula 2: Arquitetura REST

## Objetivo
Objetivo: Aprender/Entender o que é REST (Representational State Transfer) e seus princípios arquiteturais para a criação de web services.

## O que é Arquitetura REST?

**REST (Representational State Transfer)** não é um protocolo, mas sim um **estilo arquitetural** para sistemas distribuídos, como a World Wide Web. Foi definido por Roy Fielding em sua tese de doutorado em 2000. O objetivo principal do REST é permitir que sistemas se comuniquem de forma leve e escalável, utilizando os princípios e protocolos já existentes da web, principalmente o HTTP.

Uma API que segue os princípios REST é chamada de **API RESTful**. Ela trata cada pedaço de informação (como um usuário, um produto, um pedido) como um **recurso** que pode ser acessado e manipulado através de URLs (Uniform Resource Locators) e métodos HTTP padrão.

## Como funciona? Princípios Chave do REST

As APIs RESTful são construídas com base em um conjunto de princípios que as tornam eficientes e escaláveis:

### 1. Comunicação Cliente-Servidor

**Explicação:** Há uma clara separação de responsabilidades entre o cliente e o servidor. O cliente é responsável pela interface do usuário e pela lógica de apresentação, enquanto o servidor é responsável pelo armazenamento de dados e pela lógica de negócio. Essa separação melhora a portabilidade da interface do usuário em várias plataformas e a escalabilidade do servidor.

### 2. Stateless (Sem Estado)

**Explicação:** Cada requisição do cliente para o servidor deve conter todas as informações necessárias para que o servidor entenda e processe a requisição. O servidor não deve armazenar nenhum "estado" da sessão do cliente entre as requisições. Isso significa que cada requisição é independente e pode ser tratada por qualquer servidor disponível, o que melhora a escalabilidade e a confiabilidade.

### 3. Cacheable (Cacheável)

**Explicação:** As respostas do servidor devem ser explicitamente marcadas como cacheáveis ou não cacheáveis. Isso permite que os clientes (e intermediários como proxies) armazenem em cache as respostas para requisições futuras, reduzindo a latência e a carga no servidor.

### 4. Interface Uniforme

**Explicação:** Este é o princípio central do REST. Ele simplifica a arquitetura do sistema, tornando-o mais fácil de entender e interagir. A interface uniforme é alcançada através de quatro restrições:

*   **Identificação de Recursos:** Cada recurso deve ser identificável por uma URI (Uniform Resource Identifier) única (ex: `/users/123`, `/products`).
*   **Manipulação de Recursos Através de Representações:** O cliente interage com o recurso através de uma representação (ex: um documento JSON ou XML). O cliente recebe uma representação do estado do recurso e, se tiver as permissões necessárias, pode modificá-lo e enviá-lo de volta ao servidor.
*   **Mensagens Auto-descritivas:** Cada mensagem (requisição ou resposta) deve conter informações suficientes para que o receptor possa entender como processá-la. Isso inclui o tipo de mídia (Content-Type), links para outros recursos (HATEOAS), etc.
*   **HATEOAS (Hypermedia as the Engine of Application State):** O servidor deve fornecer, nas suas respostas, links para outros recursos relacionados que o cliente pode acessar. Isso permite que o cliente navegue pela API sem ter conhecimento prévio de todas as URIs disponíveis.

### 5. Sistema em Camadas

**Explicação:** A arquitetura REST permite que um sistema seja composto por camadas hierárquicas. Cada camada não pode "ver" além da camada imediatamente adjacente. Isso melhora a escalabilidade, a segurança e a flexibilidade, pois as camadas podem ser modificadas ou adicionadas independentemente.

## Na prática: O Conceito de "Recurso"

Em uma API RESTful, tudo é um **recurso**. Um recurso é qualquer informação que pode ser nomeada, abstraída e manipulada. Exemplos de recursos:

*   **Usuários:** `/users`, `/users/123`
*   **Produtos:** `/products`, `/products/456`
*   **Pedidos:** `/orders`, `/orders/789`

Cada recurso tem uma URI única e pode ser acessado usando os métodos HTTP padrão (GET, POST, PUT, DELETE) para realizar operações CRUD (Create, Read, Update, Delete) sobre ele. Por exemplo:

*   `GET /users`: Obter a lista de todos os usuários.
*   `GET /users/123`: Obter os detalhes do usuário com ID 123.
*   `POST /users`: Criar um novo usuário.
*   `PUT /users/123`: Atualizar o usuário com ID 123.
*   `DELETE /users/123`: Excluir o usuário com ID 123.

Entender esses princípios é fundamental para construir e consumir APIs de forma eficaz, aproveitando ao máximo o poder da web.
